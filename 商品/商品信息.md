# 商品信息

> 更新记录

<table>
    <tr>
        <th style="width:250px;">日期</th>
        <th>更新内容</th>
    </tr>
    <tr>
        <td>2018-06-04 10:53:38</td>
        <td>生成时间</td>
    </tr>
</table>

> 字段

<table>
    <tr>
        <th style="width:150px;">属性名称</th>
        <th style="width:60px;">类型</th>
        <th style="width:60px;">必填</th>
        <th style="width:200px;">说明</th>
        <th>备注</th>
    </tr>
    <tr>
        <td>id</td>
        <td>integer</td>
        <td>-</td>
        <td></td>
        <td>-</td>
    </tr>
    <tr>
        <td>appId</td>
        <td>int</td>
        <td>-</td>
        <td>AppId</td>
        <td>-</td>
    </tr>
    <tr>
        <td>name</td>
        <td>string</td>
        <td>是</td>
        <td>姓名</td>
        <td>-</td>
    </tr>
    <tr>
        <td>category</td>
        <td>int</td>
        <td>分类</td>
        <td>是</td>
        <td>-</td>
    </tr>
    <tr>
        <td>code</td>
        <td>string</td>
        <td>-</td>
        <td>商品编码</td>
        <td>-</td>
    </tr>
    <tr>
        <td>brand</td>
        <td>string</td>
        <td>-</td>
        <td>品牌</td>
        <td>-</td>
    </tr>
    <tr>
        <td>series</td>
        <td>string</td>
        <td>-</td>
        <td>系列</td>
        <td>-</td>
    </tr>
    <tr>
        <td>model</td>
        <td>string</td>
        <td>-</td>
        <td>型号</td>
        <td>-</td>
    </tr>
    <tr>
        <td>color</td>
        <td>string</td>
        <td>-</td>
        <td>色号</td>
        <td>-</td>
    </tr>
    <tr>
        <td>size</td>
        <td>string</td>
        <td>-</td>
        <td>尺寸</td>
        <td>-</td>
    </tr>
    <tr>
        <td>material</td>
        <td>string</td>
        <td>-</td>
        <td>材质</td>
        <td>-</td>
    </tr>
    <tr>
        <td>origine</td>
        <td>string</td>
        <td>-</td>
        <td>产地</td>
        <td>-</td>
    </tr>
    <tr>
        <td>unit</td>
        <td>string</td>
        <td>-</td>
        <td>单位</td>
        <td>-</td>
    </tr>
    <tr>
        <td>supplierId</td>
        <td>Int</td>
        <td>-</td>
        <td>供应商ID</td>
        <td>-</td>
    </tr>
    <tr>
        <td>sph</td>
        <td>decimal</td>
        <td>-</td>
        <td>球镜</td>
        <td>-</td>
    </tr>
    <tr>
        <td>cyl</td>
        <td>decimal</td>
        <td>-</td>
        <td>柱镜</td>
        <td>-</td>
    </tr>
    <tr>
        <td>priceIn</td>
        <td>decimal</td>
        <td>-</td>
        <td>进价</td>
        <td>-</td>
    </tr>
    <tr>
        <td>price</td>
        <td>decimal</td>
        <td>-</td>
        <td>售价</td>
        <td>-</td>
    </tr>
    <tr>
        <td>batchNo</td>
        <td>string</td>
        <td>-</td>
        <td>批次号</td>
        <td>-</td>
    </tr>
    <tr>
        <td>validity</td>
        <td>string</td>
        <td>-</td>
        <td>有效期</td>
        <td>格式: 2019-01-02</td>
    </tr>
    <tr>
        <td>extra</td>
        <td>object</td>
        <td>-</td>
        <td>附加信息</td>
        <td>见下表</td>
    </tr>
    <tr>
        <td>remark</td>
        <td>string</td>
        <td>-</td>
        <td>备注</td>
        <td>-</td>
    </tr>
    <tr>
        <td>salesTotal</td>
        <td>int</td>
        <td>-</td>
        <td>总销量</td>
        <td>-</td>
    </tr>
    <tr>
        <td>lastSaleAt</td>
        <td>int</td>
        <td>-</td>
        <td>最后销售时间</td>
        <td>-</td>
    </tr>    
    <tr>
        <td>status</td>
        <td>tinyint</td>
        <td>-</td>
        <td>状态</td>
        <td>100可销售: 0:不可销售</td>
    </tr>    
    <tr>
        <td>createdAt</td>
        <td>datetime</td>
        <td>-</td>
        <td>创建时间</td>
        <td>-</td>
    </tr>
</table>


## 列表

```
GET /app/product/product
```

>请求参数:

<table>
    <tr>
        <th style="width:150px;">参数名称</th>
        <th style="width:60px;">类型</th>
        <th style="width:60px;">必填</th>
        <th style="width:200px;">说明</th>
        <th>备注</th>
    </tr>    
    <tr>
        <td>categoryId</td>
        <td>int</td>
        <td>-</td>
        <td>分类ID</td>
        <td>-</td>
    </tr>
    <tr>
        <td>shopId</td>
        <td>int</td>
        <td>-</td>
        <td>门店ID</td>
        <td>传递shopId时, 会返回库存, 否则不返回库存</td>
    </tr>
    <tr>
        <td>code</td>
        <td>string</td>
        <td>-</td>
        <td>商品编号</td>
        <td>精确查询</td>
    </tr>
    <tr>
        <td>keyword</td>
        <td>string</td>
        <td>-</td>
        <td>关键词</td>
        <td>搜索名称等</td>
    </tr>
    <tr>
        <td>sort</td>
        <td>string</td>
        <td>-</td>
        <td>排序</td>
        <td>可选值: salesTotal desc: 销售最多, lastSaleAt desc: 最近销售</td>
    </tr>
</table>


## 添加

```
POST /app/product/product
```

>请求字段: 原商品信息基础上, 增加shopId: 门店ID(必填) stock: 库存(选填)

## 更新

```
PATCH /app/product/product/:id
```

>请求字段: 原商品信息基础上, 增加shopId: 门店ID(必填) stock: 库存(选填)

## 删除

```
DELETE /app/product/product/:ids
```

## extra参数:

`> `镜片、成品老花镜extra参数

<table>
    <tr>
        <th style="width:100px;">参数</th>
        <th style="width:60px;">类型</th>
        <th style="width:60px;">必传</th>
        <th>说明</th>
        <th>备注</th>
    </tr>
    <tr>
        <td>lr</td>
        <td>int</td>
        <td>-</td>
        <td>区分左右眼</td>
        <td>0:不区分 1:左眼 2:右眼</td>
    </tr>
    <tr>
        <td>refraction</td>
        <td>string</td>
        <td>-</td>
        <td>折射率</td>
        <td>-</td>
    </tr>
    <tr>
        <td>membrane</td>
        <td>string</td>
        <td>-</td>
        <td>膜层</td>
        <td>-</td>
    </tr>
    <tr>
        <td>add</td>
        <td>string</td>
        <td>-</td>
        <td>ADD</td>
        <td>-</td>
    </tr>
    <tr>
        <td>vd</td>
        <td>string</td>
        <td>-</td>
        <td>阿贝系数</td>
        <td>-</td>
    </tr>
</table>

`> `太阳镜extra参数

<table>
    <tr>
        <th style="width:100px;">参数</th>
        <th style="width:60px;">类型</th>
        <th style="width:60px;">必传</th>
        <th>说明</th>
        <th>备注</th>
    </tr>
    <tr>
        <td>pl</td>
        <td>int</td>
        <td>-</td>
        <td>是否偏光</td>
        <td>1:是 0:否</td>
    </tr>
    <tr>
        <td>hd</td>
        <td>int</td>
        <td>-</td>
        <td>是否高清</td>
        <td>1:是 0:否</td>
    </tr>
    <tr>
        <td>cc</td>
        <td>int</td>
        <td>-</td>
        <td>是否变色</td>
        <td>1:是 0:否</td>
    </tr>
    <tr>
        <td>uv</td>
        <td>string</td>
        <td>-</td>
        <td>抗紫外线指数</td>
        <td>-</td>
    </tr>
</table>

`> `隐形眼镜extra参数

<table>
    <tr>
        <th style="width:100px;">参数</th>
        <th style="width:60px;">类型</th>
        <th style="width:60px;">必传</th>
        <th>说明</th>
        <th>备注</th>
    </tr>
    <tr>
        <td>bc</td>
        <td>string</td>
        <td>-</td>
        <td>基弧</td>
        <td>-</td>
    </tr>
    <tr>
        <td>diameter</td>
        <td>string</td>
        <td>-</td>
        <td>直径</td>
        <td>-</td>
    </tr>
    <tr>
        <td>wc</td>
        <td>string</td>
        <td>-</td>
        <td>含水量</td>
        <td>-</td>
    </tr>
    <tr>
        <td>period</td>
        <td>string</td>
        <td>-</td>
        <td>更换周期</td>
        <td>-</td>
    </tr>
    <tr>
        <td>uv</td>
        <td>string</td>
        <td>-</td>
        <td>抗紫外线指数</td>
        <td>-</td>
    </tr>
    <tr>
        <td>licenseNo</td>
        <td>string</td>
        <td>-</td>
        <td>注册证号</td>
        <td>-</td>
    </tr>
    <tr>
        <td>licensePics</td>
        <td>string</td>
        <td>-</td>
        <td>注册证照片</td>
        <td>-</td>
    </tr>
</table>

`> `隐形眼镜护理extra参数

<table>
    <tr>
        <th style="width:100px;">参数</th>
        <th style="width:60px;">类型</th>
        <th style="width:60px;">必传</th>
        <th>说明</th>
        <th>备注</th>
    </tr>
    <tr>
        <td>capacity</td>
        <td>string</td>
        <td>-</td>
        <td>容量</td>
        <td>-</td>
    </tr>
    <tr>
        <td>expiration</td>
        <td>string</td>
        <td>-</td>
        <td>开瓶使用期限</td>
        <td>-</td>
    </tr>
    <tr>
        <td>licenseNo</td>
        <td>string</td>
        <td>-</td>
        <td>注册证号</td>
        <td>-</td>
    </tr>
    <tr>
        <td>licensePics</td>
        <td>string</td>
        <td>-</td>
        <td>注册证照片</td>
        <td>-</td>
    </tr>
</table>
